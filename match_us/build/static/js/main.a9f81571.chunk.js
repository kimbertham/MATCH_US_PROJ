(this.webpackJsonpmatch_us=this.webpackJsonpmatch_us||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(22),i=n.n(r),o=(n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(59),n(2)),l=n.n(o),d=n(3),j=n(5),u=n(6),h=n(8),p=n(7),b=n(4),m=n.n(b),O=n(9),f=n(19),x=function(){return{headers:{Authorization:"Bearer ".concat(v())}}},v=function(){return window.localStorage.getItem("token")},g=function(){return function(){var e=v();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(window.atob(t[1]))}().sub},y=n(16),N=n(10),w=function(e){var t=e.change,n=e.submit,c=e.form,s=e.data;return s?Object(a.jsxs)("form",{onSubmit:n,children:[Object(a.jsx)("div",{className:"auth-head center",children:"REGISTER"}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{children:"First Name"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"auth-input",name:"first_name",onChange:t,value:s.first_name||""})]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{children:"Last name"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"auth-input",name:"last_name",onChange:t,value:s.last_name||""})]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{children:"Username"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"auth-input",name:"username",onChange:t,value:s.username||""})]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{children:"email"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"auth-input",name:"email",onChange:t,value:s.email||""})]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"auth-input",type:"password",name:"password",onChange:t,value:s.password||""})]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{children:"Password Confirmation"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"auth-input",type:"password",name:"password_confirmation",onChange:t,value:s.password_confirmation||""})]}),Object(a.jsx)("div",{onClick:c,className:"auth-text",children:"Already a member?"}),Object(a.jsx)("button",{className:"auth-input auth-button",children:" Log in!"})]}):null},k=function(e){var t=e.change,n=e.submit,c=e.form,s=e.data;return s?Object(a.jsxs)("form",{onSubmit:n,children:[Object(a.jsx)("div",{className:"auth-head center",children:"LOG IN"}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{children:"Username"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"auth-input",name:"username",onChange:t,value:s.username||""})]}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"auth-input",type:"password",name:"password",onChange:t,value:s.password||""})]}),Object(a.jsx)("div",{onClick:c,className:"auth-link",children:"Not a member?"}),Object(a.jsx)("button",{className:"auth-input auth-button",children:" Log in!"})]}):null},C=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={data:{},form:!0,invalid:!1},e.handleChange=function(t){var n=Object(N.a)(Object(N.a)({},e.state.data),{},Object(y.a)({},t.target.name,t.target.value));e.setState({data:n})},e.login=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,m.a.post("/api/login/",Object(N.a)({},e.state.data));case 4:a=t.sent,window.localStorage.setItem("token",a.data.token),e.props.history.push("/home"),window.location.reload(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),e.setState({invalid:!0}),setTimeout((function(){return e.setState({invalid:!1})}),1e3);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),e.register=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,m.a.post("/api/register/",Object(N.a)({},e.state.data));case 4:e.setState({form:!0}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({invalid:!0}),setTimeout((function(){return e.setState({invalid:!1})}),1e3);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e.handleForm=function(){e.setState({form:!e.state.form})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.form,n=e.data,c=e.invalid;return Object(a.jsx)("div",{className:"a-cont",children:Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsxs)("div",{className:"a-logo-wrap",children:[Object(a.jsx)("img",{className:"a-logo",alt:"logo",src:"https://i.imgur.com/VfFxGMN.jpg"}),Object(a.jsx)("p",{children:"Match Us"}),Object(a.jsx)("p",{className:"a-logo-sub",children:" Make every date the best date "})]}),Object(a.jsxs)("div",{className:"a-form-cont",children:[t?Object(a.jsx)(k,{change:this.handleChange,submit:this.login,form:this.handleForm,data:n}):Object(a.jsx)(w,{change:this.handleChange,submit:this.register,form:this.handleForm,data:n}),Object(a.jsx)("p",{className:c?"shake-text":"display-none",children:"Invalid! Please try again!"})]})]})})}}]),n}(s.a.Component),S=n.p+"static/media/logout.8811a8a5.jpg",_=n.p+"static/media/friend.8350c81d.jpg",M=n.p+"static/media/sent.fac307cc.jpg",D=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={query:"",results:[]},e.handleChange=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""===(a=n.target.value)?e.clearSearch():e.setState({query:a},Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/profiles/",{query:a},x());case 2:n=t.sent,e.setState({results:n.data});case 4:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.clearSearch=function(){e.setState({query:"",results:[]})},e.createReq=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.results,t.next=3,m.a.post("/api/connections/".concat(a[n.target.id].id,"/"),{},x());case 3:a[n.target.id].img=!0,e.setState({results:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.query,c=t.results;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{className:"s-form",children:[Object(a.jsx)("input",{name:"query",autoComplete:"off",className:"s-input",placeholder:"Search for users...",onChange:this.handleChange,value:n}),Object(a.jsx)("button",{className:"button",children:""===n?"Search":Object(a.jsx)("p",{onClick:function(t){t.preventDefault(),e.clearSearch()},children:"Clear "})})]}),c.length>0?Object(a.jsxs)("div",{className:"s-result-cont",children:[Object(a.jsx)("h3",{children:"Search Results"}),c.map((function(t,n){return Object(a.jsxs)("div",{className:"s-result",children:[Object(a.jsx)("div",{className:"m-img-cont",children:Object(a.jsx)("div",{className:"m-img",style:{backgroundImage:"url(".concat(t.profile_image,")")}})}),Object(a.jsxs)("p",{children:[" ",t.first_name," ",t.last_name]}),t.img?Object(a.jsx)("img",{src:M,alt:"add",className:"add-icon"}):Object(a.jsx)("img",{onClick:e.createReq,src:_,alt:"add",id:n,className:"add-icon"})]},t.id)}))]}):null]})}}]),n}(s.a.Component),T=Object(f.f)((function(e){var t=e.user,n=e.connections,c=e.history,s=e.getCons;return t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"m-profile",children:[Object(a.jsx)("div",{className:"img-wrap",children:Object(a.jsx)("div",{className:"l-cont",children:Object(a.jsx)("div",{className:"m-img",style:{backgroundImage:"url(".concat(t.profile_image,")")}})})}),Object(a.jsxs)("h3",{children:[" ",t.first_name," ",t.last_name]}),Object(a.jsxs)("p",{children:["@",t.username]})]}),Object(a.jsx)(D,{getCons:s,connections:n}),Object(a.jsxs)("div",{className:"m-con",children:[Object(a.jsx)("h1",{children:"My Connections"}),n.map((function(e){if(!e.request)return Object(a.jsx)(O.b,{to:"/connection/".concat(e.id,"/overview"),children:Object(a.jsxs)("div",{className:"m-option-h",id:e.id,children:[Object(a.jsx)("div",{className:"m-img-cont",children:Object(a.jsx)("div",{className:"m-img",style:{backgroundImage:"url(".concat(e.participants.profile_image,")")}})}),Object(a.jsxs)("h1",{children:[e.participants.first_name," ",e.participants.last_name]})]})},e.id)}))]}),Object(a.jsx)("img",{alt:"profile-img",className:"logout-icon",src:S,onClick:function(){localStorage.removeItem("token"),c.push("/login"),window.location.reload()}})]}):null})),A=n.p+"static/media/movies.e205c847.jpg",R=n.p+"static/media/food.228c76a9.jpg",F=n.p+"static/media/activities.422b6de9.jpg",q=n.p+"static/media/location.8fba8c0f.jpg",I=n.p+"static/media/random.a36b5135.jpg",L=n.p+"static/media/notes.4f1393f6.jpg",E=n.p+"static/media/wishlist.e883e3b0.jpg",P=n.p+"static/media/calender.705df09a.jpg",U=n.p+"static/media/overview.9b491c5f.jpg",W=n.p+"static/media/arrow.72ffb2bb.jpg",Y=Object(f.f)((function(e){var t=e.connection,n=e.location,c=e.user,s=function(e){return n.pathname.includes(e)?"m-option selected":"m-option"},r=function(e){return n.pathname.includes(e)?"m-open":"display-none"},i=t.id;return t&&c?Object(a.jsxs)("div",{className:"m-con",children:[Object(a.jsx)(O.b,{to:"/home",children:Object(a.jsx)("div",{className:"relative",children:Object(a.jsx)("img",{src:W,className:"m-arrow"})})}),Object(a.jsxs)("div",{className:"m-profile",children:[Object(a.jsxs)("div",{className:"img-wrap",children:[Object(a.jsx)("div",{className:"m-img-cont",children:Object(a.jsx)("div",{className:"m-img",style:{backgroundImage:"url(".concat(c.profile_image,")")}})}),Object(a.jsx)("div",{className:"l-cont",children:Object(a.jsx)("div",{className:"p-img",style:{backgroundImage:"url(".concat(t.partner.profile_image,")")}})})]}),Object(a.jsxs)("h1",{children:[t.partner.first_name," ",t.partner.last_name]}),Object(a.jsxs)("small",{children:["Connected since ",t.created_at.slice(0,4)]})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:s("overview"),children:[Object(a.jsx)("img",{src:U,alt:"food",className:"m-icon"}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/overview"),children:Object(a.jsx)("h1",{id:"overview",children:"Overview"})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/food/"),children:Object(a.jsxs)("div",{className:s("food"),children:[Object(a.jsx)("img",{src:R,alt:"food",className:"m-icon"}),Object(a.jsx)("h1",{id:"food",children:" Food "})]})}),Object(a.jsxs)("div",{className:r("food"),children:[Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/food"),children:Object(a.jsx)("h3",{className:"s-option",children:"Swipe Food"})}),Object(a.jsxs)(O.b,{to:"/connection/".concat(i,"/food/results"),children:[" ",Object(a.jsx)("h3",{className:"s-option",children:"Matched Food"})]})]}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/movies"),children:Object(a.jsxs)("div",{className:s("movies"),children:[Object(a.jsx)("img",{src:A,alt:"movies",className:"m-icon"}),Object(a.jsx)("h1",{id:"movies",children:" Movies "})]})}),Object(a.jsxs)("div",{className:r("movies"),children:[Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/movies"),children:Object(a.jsx)("h3",{className:"s-option",children:"Swipe Movies"})}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/movies/results"),children:Object(a.jsx)("h3",{className:"s-option",children:"Matched Movies"})})]}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/activities"),children:Object(a.jsxs)("div",{className:s("activities"),children:[Object(a.jsx)("img",{src:F,alt:"movies",className:"m-icon"}),Object(a.jsx)("h1",{id:"activities",children:" Activities"})]})}),Object(a.jsxs)("div",{className:r("activities"),children:[Object(a.jsxs)(O.b,{to:"/connection/".concat(i,"/activities"),children:[" ",Object(a.jsx)("h3",{className:"s-option",children:" Swipe Activities"})]}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/activities/results"),children:Object(a.jsx)("h3",{className:"s-option",children:"Matched Activities"})})]})]}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/locations"),children:Object(a.jsxs)("div",{className:s("locations"),children:[Object(a.jsx)("img",{src:q,alt:"movies",className:"m-icon"}),Object(a.jsx)("h1",{id:"locations",children:" Locations "})]})}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/randomiser"),children:Object(a.jsxs)("div",{className:s("random"),children:[Object(a.jsx)("img",{src:I,alt:"movies",className:"m-icon"}),Object(a.jsx)("h1",{id:"random",children:" Randomiser "})]})}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/notes/inbox"),children:Object(a.jsxs)("div",{className:s("notes"),children:[Object(a.jsx)("img",{src:L,alt:"notes",className:"m-icon"}),Object(a.jsx)("h1",{id:"notes",children:" Notes "})]})}),Object(a.jsxs)("div",{className:r("notes"),children:[Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/notes/inbox"),children:Object(a.jsx)("h3",{className:"s-option",children:"Inbox"})}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/notes/outbox"),children:Object(a.jsx)("h3",{className:"s-option",children:"Outbox"})})]}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/wishlist"),children:Object(a.jsxs)("div",{className:s("wishlist"),children:[Object(a.jsx)("img",{src:E,alt:"movies",className:"m-icon"}),Object(a.jsx)("h1",{id:"wishlist",children:" Wishlist "})]})}),Object(a.jsx)(O.b,{to:"/connection/".concat(i,"/events"),children:Object(a.jsxs)("div",{className:s("calendar"),children:[Object(a.jsx)("img",{src:P,alt:"movies",className:"m-icon"}),Object(a.jsx)("h1",{id:"calendar",children:" Calendar "})]})})]})]}):null})),B=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.setCon,c=e.connections,s=e.connection,r=e.getCons;return Object(a.jsx)("div",{className:"m-cont",children:Object(a.jsx)("div",{children:c?Object(a.jsx)(T,{user:t,setCon:n,getCons:r,connections:c}):Object(a.jsx)(Y,{user:t,connection:s})})})}}]),n}(s.a.Component),V=Object(f.f)(B),G=n(15),H=n.n(G),z=["Amusement park","Aquarium","Art gallery","Bakery","Bank","Bar","Beauty salon","Bicycle store","Book store","Bowling alley","bus station","Cafe","Campground","Car rental","Casino","Clothing store","Electronics store","Florist","Furniture store","Gym","Home goods store","Library","Liquor store","Lodging","Movie rental","Movie theater","Museum","Night club","Park","Pet store","Restaurant","Rv park","Shoe store","Shopping mall","Spa","Stadium","Subway station","Supermarket","Tourist attraction","Travel agency","Zoo"],J=new RegExp(["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"].join("|"),"g"),X=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))},Q=H.a.weekdaysShort(),Z=H.a.monthsShort(),K=function(e){var t=e.date,n=e.changeMonth,c=e.events,s=e.setData,r=e.setReq,i=e.user,o=H()(t).format("MM"),l=[Number(H()(t).format("YYYY"))],d=[],j=[];if(!c)return null;for(var u=0;u<H()(t).startOf("month").format("d");u++)d.push(Object(a.jsxs)("td",{className:"empty",children:[" ",""]}));for(var h=function(e){var t=1===e.toString().length?"".concat(l,"-").concat(o,"-0").concat(e):"".concat(l,"-").concat(o,"-").concat(e),n=Object(a.jsx)("td",{onClick:function(){return s(t)},className:"calender-day",children:Object(a.jsx)("p",{className:"date",children:e})});if(c.length>0){var d=c.filter((function(e){return e.date===t}));d.length>0?j.push(Object(a.jsxs)("td",{onClick:function(){return s(t)},className:"calender-day",children:[Object(a.jsx)("p",{className:"date",children:e}),d.map((function(e,t){return Object(a.jsxs)("p",{onClick:function(t){t.stopPropagation(),r(e)},className:"request ".concat(e.request&&e.creator===i.id?"green":e.request?"purple":"date"),children:[e.date_type.match(J)," ",e.title]},t)}))]},d.id)):j.push(n)}else j.push(n)},p=1;p<=H()(t).daysInMonth();p++)h(p);var b=[].concat(d,j),m=[],O=[];return b.forEach((function(e,t){t%7!==0?O.push(e):(m.push(O),(O=[]).push(e)),t===b.length-1&&m.push(O)})),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"calender-header flex",children:[Object(a.jsx)("button",{className:"calender-button ",onClick:function(){n("b")},children:" Back"}),Object(a.jsxs)("h2",{children:[" ",Z[o-1]," ",l]}),Object(a.jsx)("button",{className:"calender-button",onClick:function(){n("f")},children:" Next"})]}),Object(a.jsx)("div",{className:"calendar-cont",children:Object(a.jsx)("table",{className:"calender",children:Object(a.jsxs)("tbody",{children:[Object(a.jsx)("tr",{children:Q.map((function(e,t){return Object(a.jsx)("th",{className:"weekdays",children:e},t)}))}),m.map((function(e,t){return Object(a.jsx)("tr",{children:e},t)}))]})})})]})},$=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={location:"",locations:[]},e.handleClickOutside=function(t){e.l&&!e.l.contains(t.target)&&e.setState({locations:[]})},e.handlePlaces=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.handleChange(n);case 2:return t.next=4,m.a.post("/api/locations/",{location:e.props.location});case 4:a=t.sent,e.setState({locations:a.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.state.locations,n=this.props,c=n.location,s=n.handleLocation;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Location:"}),Object(a.jsx)("input",{name:"location",value:c,onChange:this.handlePlaces})]}),Object(a.jsx)("div",{className:"events-location",children:Object(a.jsx)("div",{ref:function(t){return e.l=t},children:t.map((function(t){return Object(a.jsx)("div",{ref:function(t){return e.l=t},className:"pointer",onClick:function(){s(t.description),e.setState({locations:[]})},children:Object(a.jsxs)("p",{children:[" ",t.description," "]})},t.id)}))})})]})}}]),n}(s.a.Component),ee=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={data:{title:"",location:"",notes:"",date_type:"",time:"",connection:""}},e.handleChange=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Object(N.a)(Object(N.a)({},e.state.data),{},Object(y.a)({},n.target.name,n.target.value)),e.setState({data:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n.preventDefault(),t.next=4,m.a.post("/api/events/",e.state.data,x(),x());case 4:e.props.getEvents&&e.props.getEvents(),e.props.closeModal(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),422===t.t0.response.status?e.handleError():console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleLocation=function(t){var n=Object(N.a)(Object(N.a)({},e.state.data),{},{location:t});e.setState({data:n})},e.handleError=function(){e.setState({error:!0}),setTimeout((function(){return e.setState({error:!1})}),1500)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({data:Object(N.a)(Object(N.a)(Object(N.a)({},this.state.data),this.props.data),{},{connection:this.props.connection?this.props.connection.id:null})})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.error,c=this.props,s=c.connection,r=c.connections;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{className:"center",onSubmit:this.handleSubmit,children:[Object(a.jsx)("h1",{children:"New Event"}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("small",{children:"*"}),"Title:"]}),Object(a.jsx)("input",{name:"title",value:t.title,onChange:this.handleChange})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{className:"label",children:[Object(a.jsx)("small",{children:"*"}),"Daters: "]}),s?Object(a.jsx)("input",{readOnly:!0,className:"n-line",value:"".concat(s.partner.first_name,", ").concat(s.user.first_name)}):Object(a.jsxs)("select",{onChange:this.handleChange,name:"connection",value:t.connection,children:[Object(a.jsx)("option",{selected:!0,hidden:!0,children:" --- "}),r.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.participants.first_name},e.id)}))]})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("small",{children:"*"}),"Date:"]}),Object(a.jsx)("input",{type:"date",name:"date",value:t.date,onChange:this.handleChange})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("small",{children:"*"}),"Time:"]}),Object(a.jsx)("input",{name:"time",type:"time",value:t.time,onChange:this.handleChange})]}),Object(a.jsx)($,{location:t.location,handleChange:this.handleChange,handleLocation:this.handleLocation}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Notes:"}),Object(a.jsx)("textarea",{name:"notes",value:t.notes,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("label",{children:"\ud83c\udf69"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"radio",name:"date_type",value:"\ud83c\udf69"}),Object(a.jsx)("label",{children:"\ud83c\udfd3"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"radio",name:"date_type",value:"\ud83c\udfd3"}),Object(a.jsx)("label",{children:"\ud83d\udc83"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"radio",name:"date_type",value:"\ud83d\udc83"}),Object(a.jsx)("label",{children:"\ud83c\udf7f"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"radio",name:"date_type",value:"\ud83c\udf7f"}),Object(a.jsx)("label",{children:"\u265f\ufe0f"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"radio",name:"date_type",value:"\u265f\ufe0f"}),Object(a.jsx)("label",{children:"\ud83c\udfa1"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"radio",name:"date_type",value:"\ud83c\udfa1"}),Object(a.jsx)("label",{children:"\ud83c\udfd5\ufe0f"}),Object(a.jsx)("input",{onChange:this.handleChange,type:"radio",name:"date_type",value:"\ud83c\udfd5\ufe0f"})]}),Object(a.jsx)("small",{className:n?"shake-text":"display-none",children:" All fields marked with an * are required"}),Object(a.jsx)("button",{className:"button",children:" New Event!"})]})})}}]),n}(s.a.Component),te=Object(f.f)(ee),ne=function(e){var t=e.req,n=e.getEvents,c=e.closeModal,s=e.user,r=function(){var e=Object(d.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(N.a)(Object(N.a)({},t),{},{connection:t.connection.id,request:"False"}),e.next=3,m.a.put("/api/events/".concat(t.id,"/"),a);case 3:n(),c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("/api/events/".concat(t.id,"/"));case 2:n(),c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=t.request?"display-block":"display-none";return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"column",children:[Object(a.jsxs)("h1",{children:["Date ",Object(a.jsx)("span",{className:o,children:"request"}),"!"]}),Object(a.jsx)("p",{children:t.title}),Object(a.jsx)("p",{children:t.connection.participants.map((function(e){return"".concat(e.first_name," ")}))}),Object(a.jsxs)("p",{children:[t.date," ",t.time," "]}),Object(a.jsxs)("p",{children:[t.location," "]}),Object(a.jsxs)("p",{children:[t.notes," "]}),Object(a.jsxs)("p",{children:[" ",t.date_type]}),Object(a.jsx)("div",{className:o,children:t.creator===s.id?Object(a.jsx)("p",{children:"Waiting for response"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:r,className:"button",children:"Accept"}),Object(a.jsx)("button",{onClick:i,className:"button",children:"decline"})]})}),Object(a.jsx)("div",{className:t.request?"display-none":null,children:Object(a.jsx)("button",{onClick:i,className:"button",children:"Cancel"})})]},t.id)})},ae=function(e){var t=e.e;return Object(a.jsx)(O.b,{to:"/connection/".concat(t.connection.id,"/events"),children:Object(a.jsxs)("div",{className:"o-field",style:{background:t.request?" rgba(3, 72, 87, 0.4)":" rgba(207, 77, 219, 0.2)"},children:[Object(a.jsxs)("h3",{children:[" ",t.date_type," ",t.title]}),Object(a.jsx)("p",{children:t.connection.participants.map((function(e,n){return n===t.connection.participants.length-1?"".concat(e.first_name):"".concat(e.first_name," & ")}))}),Object(a.jsxs)("small",{children:[" ",t.date," ",t.time.slice(0,5)]}),Object(a.jsx)("br",{}),Object(a.jsxs)("small",{children:[" ",t.location.split(",")[0]]}),Object(a.jsx)("br",{})]},t.id)})},ce=function(e){var t=e.events,n=e.setReq;return t?Object(a.jsxs)("div",{className:"e-list",children:[Object(a.jsx)("h1",{className:"title",children:" Events"}),t.map((function(e){return Object(a.jsx)("div",{id:e.id,onClick:function(){n(e)},children:Object(a.jsx)(ae,{e:e})},e.id)}))]}):null},se=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={date:H()().format("YYYY-MM-DD"),modal:!1,events:!1,req:!1},e.homepage=location.pathname.includes("home")?"home":"con",e.eventsClass=location.pathname.includes("events")?"events":"overview",e.changeMonth=function(t){var n,a=Number(H()(e.state.date).format("YYYY")),c=Number(H()(e.state.date).format("MM"));n="f"===t?12===c?"".concat(a+1,"-01"):"".concat(a,"-").concat(c+1):1===c?"".concat(a-1,"-12"):"".concat(a,"-").concat(c-1),e.setState({date:n},(function(){e.getEvents()}))},e.getEvents=Object(d.a)(l.a.mark((function t(){var n,a,c,s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.connection,c=n.user,s="home"===e.homepage?{month:Number(H()(e.state.date).format("MM")),section:"home"}:{month:Number(H()(e.state.date).format("MM")),section:"con",connection:a.id},t.next=4,m.a.post("/api/events/get/".concat(c.id,"/"),s,x());case 4:r=t.sent,e.setState({events:r.data});case 6:case"end":return t.stop()}}),t)}))),e.closeModal=function(){e.setState({data:null,req:null})},e.setData=function(t){e.setState({data:{date:t}})},e.setReq=function(t){e.setState({req:t})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getEvents()}},{key:"render",value:function(){var e=this.state,t=e.date,n=e.events,c=e.data,s=e.req,r=this.props,i=r.connection,o=r.connections,l=r.user;return Object(a.jsxs)("div",{className:"relative",children:[c||s?Object(a.jsx)("div",{onClick:this.closeModal,className:"modal",children:Object(a.jsx)("div",{className:"m-pop",onClick:function(e){return e.stopPropagation()},children:s?Object(a.jsx)(ne,{user:l,req:s,closeModal:this.closeModal,getEvents:this.getEvents}):Object(a.jsx)(te,{data:c,connection:i,connections:o,closeModal:this.closeModal,getEvents:this.getEvents})})}):null,Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(K,{events:n,date:t,user:l,page:this.eventsClass,setData:this.setData,setReq:this.setReq,changeMonth:this.changeMonth}),"events"===this.eventsClass?Object(a.jsx)(ce,{events:n,setReq:this.setReq}):null]})]})}}]),n}(s.a.Component),re=Object(f.f)(se),ie=function(e){var t=e.events,n=e.req;return Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:" Date Requests"}),Object(a.jsx)("div",{className:"o-container",children:n.map((function(e){return Object(a.jsx)(ae,{e:e},e.id)}))})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Upcoming Dates"}),Object(a.jsx)("div",{className:"o-container",children:t.map((function(e){return Object(a.jsx)(ae,{e:e},e.id)}))})]})]})},oe=function(e){var t=e.n,n=e.connection,c=e.deleteNote;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"note",style:{backgroundColor:t.color},children:[Object(a.jsxs)("small",{className:"note-date",children:[t.connection.participants.map((function(e){return e.id!==t.reciever?"From ".concat(e.first_name):null})),Object(a.jsx)("br",{}),t.created_at.slice(0,10)]}),Object(a.jsx)("h2",{children:t.notes.length>100?t.notes.substr(0,100)+"...":t.notes}),n&&t.reciever!==n.user.id?Object(a.jsx)("button",{className:"n-delete button",onClick:function(){c(t.id)},children:" X "}):null]},t.id),t.read?null:Object(a.jsxs)("div",{className:"envelope absolute",children:[Object(a.jsx)("div",{className:"triangle-top"}),Object(a.jsx)("div",{className:"triangle-up2"}),Object(a.jsx)("div",{className:"triangle-up"}),Object(a.jsx)("div",{className:"triangle-right"}),Object(a.jsx)("div",{className:"triangle-left"})]})]})},le=n.p+"static/media/settings.09be1ea4.jpg",de=n.p+"static/media/background2.d26c16fc.jpg",je=function(e){var t=e.c,n=e.getCons,c=function(){var e=Object(d.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,m.a.patch("/api/connections/".concat(t,"/"),{request:null});case 3:e.next=7;break;case 5:return e.next=7,m.a.delete("/api/connections/".concat(t,"/"));case 7:n();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return t.participants?Object(a.jsxs)("div",{className:"req-item",children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("div",{className:"img-wrap",children:Object(a.jsx)("div",{className:"l-cont",children:Object(a.jsx)("div",{className:"m-img",style:{backgroundImage:"url(".concat(t.participants.profile_image,")")}})})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{children:[t.participants.first_name," ",t.participants.last_name,Object(a.jsxs)("span",{className:"req-span",children:[" @",t.participants.username]})]}),Object(a.jsx)("small",{children:t.participants.email})]})]}),Object(a.jsxs)("div",{className:"req-buttons",children:[Object(a.jsx)("button",{className:"button",onClick:function(){c(t.id,!0)},children:" \u2713 "}),Object(a.jsx)("button",{className:"button",onClick:function(){c(t.id,!1)},children:"\u2717"})]})]}):null},ue=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={data:!1},e.getData=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/profile/".concat(e.props.user.id,"/"),x());case 2:n=t.sent,e.setState({data:n.data});case 4:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.user,n=e.connections,c=e.getCons,s=this.state.data;return s?Object(a.jsxs)("div",{className:"overview",style:{backgroundImage:"url(".concat(de,")")},children:[Object(a.jsxs)("div",{className:"o-side",children:[Object(a.jsxs)("h1",{className:"o-title",children:[t.first_name,"'s Overview"]}),Object(a.jsx)("div",{className:"o-calendar",children:Object(a.jsx)(re,{connections:n,user:t})}),Object(a.jsxs)("div",{className:"o-notes",children:[Object(a.jsx)("h3",{children:"Recent Notes"}),Object(a.jsx)("div",{className:"flex",children:s.note.map((function(e){return Object(a.jsx)(O.b,{to:"/connection/".concat(e.connection.id,"/notes/inbox"),children:Object(a.jsx)(oe,{n:e})},e.id)}))})]})]}),Object(a.jsxs)("div",{className:"o-main",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"My Recents Swipes"}),Object(a.jsxs)("div",{className:"o-container",children:[s.movie.map((function(e){return Object(a.jsxs)("div",{className:"o-recent",children:[Object(a.jsx)("img",{src:A,alt:"movies"}),Object(a.jsx)("p",{children:e.name})]},e.id)})),s.food.map((function(e){return Object(a.jsxs)("div",{className:"o-recent",children:[Object(a.jsx)("img",{src:R,alt:"food"}),Object(a.jsx)("p",{children:e.name})]},e.id)})),s.activity.map((function(e){return Object(a.jsxs)("div",{className:"o-recent",children:[Object(a.jsx)("img",{src:F,alt:"activities"}),Object(a.jsx)("p",{children:e.name})]},e.id)}))]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Connection Requests"}),Object(a.jsx)("div",{className:"o-container relative",children:n.map((function(e){if(e.request!==t.id&&e.request)return Object(a.jsx)(je,{c:e,getCons:c},e.id)}))})]}),Object(a.jsx)("div",{className:"flex wrap",children:Object(a.jsx)(ie,{events:s.events,req:s.req})}),Object(a.jsx)(O.b,{to:"/home/wishlist",children:Object(a.jsxs)("div",{className:"o-button",children:[Object(a.jsx)("img",{src:E,alt:"food"}),Object(a.jsx)("h3",{children:"My Wishlist"})]})}),Object(a.jsx)(O.b,{to:"/home/settings",children:Object(a.jsxs)("div",{className:"o-button",children:[Object(a.jsx)("img",{src:le,alt:"food"}),Object(a.jsx)("h3",{children:"Settings"})]})})]})]}):null}}]),n}(s.a.Component),he=n(43),pe=function(e){var t=e.r;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("a",{href:"https://www.amazon.co.uk/dp/".concat(t.asin),children:[Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:t.productDescription.length>50?"".concat(t.productDescription.slice(0,50),"..."):t.productDescription})}),Object(a.jsxs)("p",{children:["\xa3",t.price]}),Object(a.jsx)("p",{children:t.productRating}),Object(a.jsx)("div",{className:"w-img-cont center",children:Object(a.jsx)("img",{src:t.imgUrl,className:"w-img",alt:"wishlist-img"})})]})})},be=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={keyword:"",results:[]},e.handleChange=function(t){e.setState({keyword:t.target.value})},e.handleSubmit=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,m.a.post("/api/wishlist/0/",{keyword:e.state.keyword});case 3:a=t.sent,e.setState({results:a.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addWishlist=function(){var t=Object(d.a)(l.a.mark((function t(n,a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/wishlist/",{a_id:n},x());case 2:c=[].concat(Object(he.a)(e.state.results),[Object.assign(e.state.results[a],Object(N.a)(Object(N.a)({},e.state.results[a]),{},{added:!0}))]),e.setState({results:c});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.keyword,c=t.results;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("label",{children:"Add Items: "}),Object(a.jsx)("input",{name:"keyword",value:n,onChange:this.handleChange}),Object(a.jsx)("button",{children:"Search"})]}),Object(a.jsx)("div",{className:"w-cont",children:c.map((function(t,n){return Object(a.jsxs)("div",{className:"w-item",children:[Object(a.jsx)(pe,{r:t}),t.added?Object(a.jsx)("button",{disabled:!0,className:"button",children:"Added"}):Object(a.jsx)("button",{onClick:function(){e.addWishlist(t.asin,n)},className:"button",children:" +Add "})]},n)}))})]})}}]),n}(s.a.Component),me=n(26),Oe=n.n(me),fe=function(e){var t=e.type;return Object(a.jsxs)("div",{className:"center fh",children:[Object(a.jsx)(Oe.a,{type:t,color:"#f20cd766",height:200,width:90}),Object(a.jsxs)("div",{className:"loader-text",children:[Object(a.jsx)("p",{children:"Searching, please wait... "}),Object(a.jsx)("small",{className:"loader-access",children:"*Turn on browser location access for best results"})]})]})},xe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={wishlist:!1},e.getWishlist=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/api/wishlist/".concat(e.props.user.id,"/"));case 2:n=t.sent,e.setState({wishlist:n.data});case 4:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getWishlist();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.user,c=t.match.path.includes("home"),s=this.state.wishlist;return s?Object(a.jsxs)("div",{className:"fh scroll",children:[Object(a.jsxs)("div",{className:"center",children:[Object(a.jsxs)("h1",{className:"r-title",children:[n.first_name,"'s Wishlist "]}),c?Object(a.jsx)(be,{getWishlist:this.getWishlist}):null]}),Object(a.jsx)("div",{className:"flex wrap center",children:s.length>0?s.map((function(t,n){return Object(a.jsx)("div",{className:"w-item",children:Object(a.jsx)(pe,{r:t,home:c,deleteWish:e.deleteWish})},n)})):"No wishlist items"})]}):Object(a.jsx)(fe,{type:"Puff"})}}]),n}(s.a.Component),ve=Object(f.f)(xe),ge="https://api.cloudinary.com/v1_1/diyxyp4qk/image/upload",ye="eceecv3s",Ne=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={formData:{image:""},loading:!1},e.toggleLoad=function(){e.setState({loading:!e.state.loading})},e.handleUpload=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.toggleLoad(),(a=new FormData).append("file",n.target.files[0]),a.append("upload_preset",ye),t.next=6,m.a.post(ge,a);case 6:c=t.sent,e.setState({formData:{image:c.data.url}},(function(){e.props.handleImage(c.data.url),e.toggleLoad()}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.loading;return Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{name:"image",className:"img-input",type:"file",onChange:this.handleUpload}),e?Object(a.jsx)(Oe.a,{type:"ThreeDots",color:"#f20cd766",height:30,width:50}):null]})}}]),n}(s.a.Component),we=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={data:{first_name:"",last_name:"",username:"",email:""}},e.handleChange=function(t){try{var n=Object(N.a)(Object(N.a)({},e.state.data),{},Object(y.a)({},t.target.name,t.target.value));e.setState({data:n})}catch(a){console.log(a)}},e.handleSubmit=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,m.a.patch("/api/profile/".concat(e.props.user.id,"/"),e.state.data,x());case 4:e.props.getUser(),e.props.history.push("/home"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.deleteAccount=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,m.a.delete("/api/profile/".concat(n,"/"));case 3:e.props.history.push("/login");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleImage=function(t){var n=Object(N.a)(Object(N.a)({},e.state.data),{},{profile_image:t});e.setState({data:n})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({data:this.props.user});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.data,n=this.props.user;return Object(a.jsxs)("div",{className:"settings",children:[Object(a.jsx)("h1",{children:"Settings"}),Object(a.jsx)("div",{className:"s-img-cont",children:Object(a.jsx)("div",{className:"s-img",style:{backgroundImage:"url(".concat(t.profile_image,")")}})}),Object(a.jsxs)("div",{className:"s-field flex",children:[Object(a.jsx)("label",{className:"label",children:" User Image: "}),Object(a.jsx)(Ne,{handleImage:this.handleImage})]}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"s-field",children:[Object(a.jsx)("label",{className:"label",children:"First Name: "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"first_name",className:"s-input",value:t.first_name,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"s-field",children:[Object(a.jsx)("label",{className:"label",children:"Second Name: "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"last_name",className:"s-input",value:t.last_name,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"s-field",children:[Object(a.jsx)("label",{className:"label",children:"Username: "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"username",className:"s-input",value:t.username,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"s-field",children:[Object(a.jsx)("label",{className:"label",children:"Email: "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"email",className:"s-input",value:t.email,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("button",{className:"button",children:" Save! "}),Object(a.jsx)("button",{className:"button",onClick:function(){return e.deleteAccount(n.id)},children:" Delete Account"})]})]})]})}}]),n}(s.a.Component),ke=Object(f.f)(we),Ce=function(e){var t=e.user,n=e.connections,c=e.getCons,s=e.getUser;return t&&n?Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("div",{children:Object(a.jsx)(V,{page:"home",user:t,connections:n,getCons:c})}),Object(a.jsx)("div",{className:"main center",children:Object(a.jsxs)(f.c,{children:[Object(a.jsx)(f.a,{path:"/home/wishlist",render:function(){return Object(a.jsx)(ve,{user:t})}}),Object(a.jsx)(f.a,{path:"/home/settings",render:function(){return Object(a.jsx)(ke,{user:t,getUser:s})}}),Object(a.jsx)(f.a,{path:"/home",render:function(){return Object(a.jsx)(ue,{connections:n,getCons:c,user:t})}})]})})]}):null},Se=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={data:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.connection,e.next=3,m.a.post("/api/connection-full/".concat(t.id,"/"),{partner:t.partner.id},x());case 3:n=e.sent.data,this.setState({data:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.connection,t=this.state.data;return t?Object(a.jsxs)("div",{className:"con-over",children:[Object(a.jsxs)("div",{className:"o-side",children:[Object(a.jsxs)("h2",{className:"o-title",children:[e.user.first_name," & ",e.partner.first_name,"'s Overview"]}),Object(a.jsx)("div",{className:"o-calendar",children:Object(a.jsx)(re,{user:e.user,connection:e})}),Object(a.jsxs)("div",{className:"o-notes",children:[Object(a.jsx)("h3",{children:"Recent Notes"}),Object(a.jsx)("div",{className:"flex",children:t.note.map((function(t){return Object(a.jsx)(O.b,{to:"/connection/".concat(t.connection.id,"/notes/inbox"),children:Object(a.jsx)(oe,{n:t,connection:e})},t.id)}))})]})]}),Object(a.jsx)("div",{className:"o-main",children:Object(a.jsxs)("div",{className:"o-border",children:[Object(a.jsx)("div",{children:Object(a.jsx)(ie,{events:t.events,req:t.req})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:" Latest Matches:"}),Object(a.jsxs)("div",{className:"latest-matches",children:[Object(a.jsx)(O.b,{to:"/connection/".concat(e.id,"/food/results"),children:Object(a.jsxs)("div",{className:"ov",children:[Object(a.jsx)("img",{src:R,alt:"food"}),Object(a.jsxs)("p",{children:[" ",t.food.name]})]})}),Object(a.jsx)(O.b,{to:"/connection/".concat(e.id,"/activities/results"),children:Object(a.jsxs)("div",{className:"ov",children:[Object(a.jsx)("img",{src:F,alt:"acti"}),Object(a.jsxs)("p",{children:[" ",t.activity.name]})]})}),Object(a.jsx)(O.b,{to:"/connection/".concat(e.id,"/movies/results"),children:Object(a.jsxs)("div",{className:"ov",children:[Object(a.jsx)("img",{src:A,alt:"movies"}),Object(a.jsx)("p",{children:t.movie.name})]})})]})]})]})})]}):null}}]),n}(s.a.Component),_e="a6f34e87c9902a29316fd7cff8f50328",Me="https://image.tmdb.org/t/p/w600_and_h900_bestv2",De=("https://api.themoviedb.org/3/movie/popular?api_key=".concat(_e,"&language=en-US&page="),"https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(_e,"&language=en-US")),Te="AIzaSyAn3WW4SI3RHmQ7I_6HFcrUTdNalXkoJ4A",Ae="https://maps.googleapis.com/maps/api/place/photo?key=".concat(Te,"&maxwidth=400&photoreference="),Re="https://maps.googleapis.com/maps/api/geocode/json?key=".concat(Te,"&address="),Fe=("https://maps.googleapis.com/maps/api/place/details/json?key=".concat(Te,"&place_id="),"https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=".concat(Te,"&type=food"),{img:"https://bit.ly/3mtHLRI",name:"No More Restaurants",vicinity:"Try adjusting location or keywords for more...",f_id:"n"}),qe=("https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=".concat(Te,"&rankby=distance"),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={genres:"",chosen:""},e.setGenre=function(t){e.props.getResults(t.target.value)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(De);case 2:t=e.sent.data.genres,this.setState({genres:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.genres;return e?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("select",{className:"m-options",onChange:this.setGenre,children:[Object(a.jsx)("option",{disabled:!0,selected:!0,hidden:!0,children:" Genre "}),Object(a.jsx)("option",{value:"all",children:" All "}),e.map((function(e){return Object(a.jsxs)("option",{value:e.id,children:[e.name," "]},e.id)}))]})}):null}}]),n}(s.a.Component)),Ie=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={data:{rankby:"",keyword:"",address:""},errors:!1,genre:""},e.handleChange=function(t){var n=Object(N.a)(Object(N.a)({},e.state.data),{},Object(y.a)({},t.target.name,t.target.value));e.setState({data:n})},e.setLocation=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!Object.values(e.state.data).some((function(e){return""===e}))){t.next=5;break}e.setState({errors:!0}),t.next=10;break;case 5:return t.next=7,m.a.get("".concat(Re).concat(e.state.data.address));case 7:a=t.sent.data.results[0].geometry.location,c=Object(N.a)(Object(N.a)({},e.state.data),{},{location:"".concat(a.lat,",").concat(a.lng)}),e.setState({data:c},(function(){e.props.getResults(e.state.data)}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.data,n=e.errors?"red":"";return Object(a.jsx)("form",{onSubmit:this.setLocation,children:Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("div",{children:Object(a.jsx)("input",{onChange:this.handleChange,name:"keyword",value:t.keyword,className:n,placeholder:"Search..."})}),Object(a.jsx)("div",{children:Object(a.jsx)("input",{onChange:this.handleChange,name:"address",value:t.address,className:n,placeholder:"Location"})}),Object(a.jsx)("div",{children:Object(a.jsxs)("select",{onChange:this.handleChange,name:"rankby",className:n,value:t.radius,children:[Object(a.jsx)("option",{defaultValue:!0,value:"10",children:" Sort by "}),Object(a.jsx)("option",{value:"distance",children:"Distance"}),Object(a.jsx)("option",{value:"prominence",children:"Popularity"})]})}),Object(a.jsx)("div",{className:"search-button",children:Object(a.jsx)("button",{type:"submit",children:"Search"})})]})})}}]),n}(s.a.Component),Le=function(e){var t=e.section,n=e.getResults;return Object(a.jsxs)("div",{className:"m-search",children:[Object(a.jsx)("h3",{children:" Filter "}),Object(a.jsx)("div",{children:Object(a.jsx)("section",{children:"movies"===t?Object(a.jsx)(qe,{getResults:n}):Object(a.jsx)(Ie,{getResults:n})})})]})},Ee=n.p+"static/media/all-icon.12084855.jpg",Pe=n.p+"static/media/view-icon.4632e92a.jpg",Ue=function(e){var t=e.getDetail,n=e.matches,c=e.connection,s=e.section,r=e.changeView;return n?Object(a.jsxs)(a.Fragment,{children:[n.map((function(e,n){return Object(a.jsxs)("div",{onClick:t,className:"sm-cont",children:[Object(a.jsx)("div",{className:"flex"}),Object(a.jsx)("div",{className:"sm-icon",id:e.id,style:{backgroundImage:"url(".concat(e.image,")")}}),Object(a.jsxs)("p",{id:e.id,children:[" ",e.name.length>20?"".concat(e.name.slice(0,20),"..."):e.name]})]},n)})),Object(a.jsxs)("div",{className:"sm-footer",children:[Object(a.jsx)("img",{src:Pe,onClick:r,alt:"list-view"}),Object(a.jsx)(O.b,{to:"/connection/".concat(c.id,"/").concat(s,"/results"),children:Object(a.jsx)("img",{src:Ee,alt:"all"})})]})]}):null},We=function(e){var t=e.buttons,n=e.connection,c=e.r,s=e.clear,r="movies"===e.section?"".concat(Me).concat(c.poster_path):c.photos?"".concat(Ae).concat(c.photos[0].photo_reference):null;return c?Object(a.jsx)("div",{onClick:s,className:"full",children:Object(a.jsxs)("div",{className:"rm-modal",children:[Object(a.jsx)("h1",{children:" It's a match!"}),Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("div",{className:"rm-img rmp-img",style:{backgroundImage:"url(".concat(n.partner.profile_image,")")}}),Object(a.jsx)("div",{className:"rm-img rmp-img",style:{backgroundImage:"url(".concat(n.user.profile_image,")")}})]}),Object(a.jsxs)("p",{children:[n.partner.first_name," swiped yes to ",c.name||c.title," too!"]}),Object(a.jsx)("div",{className:"rm-img",style:{backgroundImage:"url(".concat(r,")")}}),t]})}):null},Ye=Object(f.f)((function(e){var t=e.r,n=e.setData,c=e.delMatch,s=e.match;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"d-bg",style:{backgroundImage:"url(".concat(Me).concat(t.poster_path,")")}}),Object(a.jsxs)("div",{className:"m-details",children:[Object(a.jsx)("img",{alt:"poster",src:"".concat(Me).concat(t.poster_path)}),Object(a.jsxs)("div",{className:"text",children:[Object(a.jsx)("h1",{children:t.title})," ",Object(a.jsx)("h3",{children:t.release_date}),Object(a.jsx)("br",{}),Object(a.jsxs)("h2",{children:[t.tagline," "]}),Object(a.jsxs)("p",{children:[t.overview," "]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:[" Production : ",t.production_companies.map((function(e){return"".concat(e.name," | ")}))]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:[t.vote_average,"/10"]}),Object(a.jsxs)("p",{children:[t.runtime," Mins "]}),Object(a.jsxs)("p",{children:[" ",t.genres?t.genres.map((function(e){return"".concat(e.name," | ")})):null]}),Object(a.jsx)(O.b,{to:t.homepage,children:t.homepage}),s.path.includes("results")?Object(a.jsxs)("div",{onClick:function(e){e.stopPropagation()},className:"d-buttons",children:[Object(a.jsx)("button",{className:"button",onClick:function(){n({notes:"".concat(t.title,", ").concat(t.release_date),date_type:"\ud83c\udf7f Film"})},children:" + Create Date"}),Object(a.jsx)("button",{className:"button",onClick:function(){c(t.id)},children:" Delete"})]}):null]})]})]})})),Be=Object(f.f)((function(e){var t=e.r,n=e.setData,c=e.match,s=e.delMatch;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"d-bg cover",style:{backgroundImage:"url(".concat(t.photos?"".concat(Ae).concat(t.photos[0].photo_reference):null,")")}}),Object(a.jsxs)("div",{className:"f-details",children:[t.photos?Object(a.jsx)("img",{src:"".concat(Ae).concat(t.photos[0].photo_reference)}):null,Object(a.jsxs)("div",{className:"text",children:[Object(a.jsx)("h1",{children:t.name}),Object(a.jsxs)("small",{children:[" ",t.formatted_phone_number," ","\xa3".repeat(t.price_level)]}),Object(a.jsxs)(O.b,{to:t.website,children:[t.website," "]}),Object(a.jsxs)("p",{children:[" ",t.formatted_address]}),Object(a.jsx)("br",{}),Object(a.jsxs)("h3",{children:["Average Rating: ",t.rating,"/5 "]}),Object(a.jsx)("p",{children:"Customer Reviews:"}),t.reviews?t.reviews.slice(0,3).map((function(e,t){a.Fragment,e.author_name,e.rating,e.text})):null,Object(a.jsx)("br",{}),t.opening_hours?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Opening Hours"}),Object(a.jsxs)("p",{children:[t.opening_hours.open_now," "]}),t.opening_hours.weekday_text.map((function(e,t){return Object(a.jsxs)("p",{children:[" ",e]},t)}))]}):null,c.path.includes("results")?Object(a.jsxs)("div",{onClick:function(e){e.stopPropagation()},className:"d-buttons",children:[Object(a.jsx)("button",{className:"button",onClick:function(){n({location:t.formatted_address})},children:" + Create Date"}),Object(a.jsx)("button",{className:"button",onClick:function(){s(t.place_id)},children:" Delete"})]}):null]})]})]})})),Ve=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={data:!1},e.delMatch=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/match/".concat(e.props.section,"/").concat(e.props.connection.id,"/"),{id:n},x());case 2:e.props.getDetail(),e.props.getMatches();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setData=function(t){e.setState({data:t})},e.closeModal=function(){e.setState({data:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.data,t=this.props,n=t.getDetail,c=t.section,s=t.r,r=t.connection;return Object(a.jsx)(a.Fragment,{children:e?Object(a.jsx)("div",{className:"modal",onClick:this.closeModal,children:Object(a.jsxs)("div",{className:"m-pop",onClick:function(e){e.stopPropagation()},children:[" ",Object(a.jsx)(te,{data:e,connection:r})]})}):Object(a.jsx)("div",{onClick:n,className:"modal column",children:Object(a.jsx)("div",{className:"details",children:"movies"===c?Object(a.jsx)(Ye,{r:s,setData:this.setData,delMatch:this.delMatch}):Object(a.jsx)(Be,{r:s,setData:this.setData,delMatch:this.delMatch})})})})}}]),n}(s.a.Component),Ge=n.p+"static/media/heart.4b81b49f.jpg",He=n.p+"static/media/cross.e1c54cdd.jpg",ze=n.p+"static/media/restart.2cc2ceb2.jpg",Je=n.p+"static/media/filter.a7f92af9.jpg",Xe=function(e){var t=e.r,n=e.deleteMatches,c=e.showSearch,s=e.swipe,r=e.getDetail,i=e.section;if(!t)return null;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:" swipe-layer1",children:Object(a.jsx)("div",{className:"swipe-card",children:"movies"===i?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{backgroundImage:"url(".concat("".concat(Me).concat(t.poster_path),")")},className:"swipe-img",onClick:r,id:t.id}),Object(a.jsxs)("h1",{children:[" ",t.title.length>20?"".concat(t.title.slice(0,20),".."):t.title]}),Object(a.jsx)("p",{children:t.release_date})]}):function(){var e=t.photos?"".concat(Ae).concat(t.photos[0].photo_reference):"https://bit.ly/3qF0nSa";return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{backgroundImage:"url(".concat(e,")")},className:"swipe-img",onClick:r,id:t.place_id}),Object(a.jsxs)("h1",{children:[" ",t.name.length>20?"".concat(t.name.slice(0,20),".."):t.name]}),Object(a.jsx)("p",{children:t.vicinity})]})}()})}),Object(a.jsxs)("div",{className:"s-buttons",children:[Object(a.jsx)("img",{src:ze,className:"s-button s-opt",alt:"restart",onClick:function(){n()}}),Object(a.jsx)("img",{src:Ge,className:"s-button s-dir",alt:"like",onClick:function(){s("True")}}),Object(a.jsx)("img",{src:He,className:"s-button s-dir",alt:"decline",onClick:function(){s("False")}}),Object(a.jsx)("img",{src:Je,className:"s-button s-opt",alt:"filter",onClick:function(){c()}})]})]})},Qe=function(e){var t=e.r,n=e.section,c=e.like,s=e.i;if(!t)return null;return Object(a.jsxs)("div",{className:"l-field",children:["movies"===n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:"".concat(Me).concat(t.poster_path),alt:"img",className:"lm-img"}),Object(a.jsxs)("div",{className:"l-text",children:[Object(a.jsxs)("h1",{children:[" ",t.title]}),Object(a.jsxs)("p",{children:[t.vote_average,"/10"]}),Object(a.jsx)("p",{children:t.release_date}),Object(a.jsx)("p",{children:t.overview})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"l-img-cont",children:Object(a.jsx)("img",{src:t.photos?"".concat(Ae).concat(t.photos[0].photo_reference):"https://bit.ly/2LG7Z7k",className:"list-img",alt:"img"})}),Object(a.jsxs)("div",{className:"l-text",children:[Object(a.jsx)("h1",{children:t.name}),Object(a.jsxs)("h3",{children:["Rating: ",t.rating,"/5"]}),Object(a.jsxs)("h3",{children:["Address: ",t.vicinity]}),Object(a.jsxs)("h3",{children:[t.opening_hours?t.opening_hours.open_now?"Status: Open":"Status: Closed":null," "]})]})]}),Object(a.jsx)("p",{className:"l-button",onClick:function(){c("True",s)},children:t.like?"\u2665":"\u2661"})]})},Ze=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={modal:!1,error:"",view:!1},e.getDetail=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.detail){t.next=4;break}e.setState({detail:null}),t.next=8;break;case 4:return t.next=6,m.a.get("/api/".concat(e.props.section,"/").concat(n.target.id,"/"));case 6:a=t.sent.data,e.setState({detail:a});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.like=function(){var t=Object(d.a)(l.a.mark((function t(n,a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.props.results[a].like=!0,c=e.props.swipeData(n,a),t.next=5,m.a.post("/api/".concat(e.props.section,"/"),c,x());case 5:e.setState({modal:!0,error:"Added to Matches!"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),422===t.t0.response.status?e.setState({modal:!0,error:"Already In Matches!"}):e.setState({modal:!0,errors:"Something went wrong, try again later!"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}(),e.modal=function(){e.setState({modal:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.results,c=t.section,s=t.changeView,r=this.state,i=r.modal,o=r.error;return Object(a.jsxs)("div",{className:"full scroll",children:[Object(a.jsx)("img",{src:Pe,className:"list-icon",alt:"list-view",onClick:s}),Object(a.jsxs)("div",{className:"swipeview",children:[i?Object(a.jsx)("div",{className:"modal",onClick:this.modal,children:Object(a.jsx)("div",{className:"m-pop",children:Object(a.jsx)("p",{children:o})})}):null,Object(a.jsx)("h1",{className:"title",children:" Results"}),n.map((function(t,n){return Object(a.jsx)("div",{className:"list-item",children:Object(a.jsx)(Qe,{r:t,i:n,section:c,like:e.like})},n)}))]})]})}}]),n}(s.a.Component),Ke=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={matches:null,detail:null,match:!1,search:!1,view:!0},e.getMatches=Object(d.a)(l.a.mark((function t(){var n,a,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.connection,c=n.section,t.next=3,m.a.get("/api/match/".concat(c,"/").concat(a.id,"/").concat(a.partner.id,"/short/"),x());case 3:s=t.sent,e.setState({matches:s.data});case 5:case"end":return t.stop()}}),t)}))),e.swipe=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.swipeData(n,0),t.next=3,m.a.post("/api/".concat(e.props.section,"/"),a,x());case 3:return c=t.sent.data,t.next=6,n;case 6:if(t.t0=t.sent,"True"!==t.t0){t.next=11;break}e.checkMatch(c.f_id),t.next=12;break;case 11:e.props.nextSwipe();case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.checkMatch=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,c=a.connection,s=a.section,t.next=3,m.a.post("/api/match/".concat(s,"/").concat(c.id,"/").concat(c.partner.id,"/none/"),{id:n});case 3:t.sent.data?(e.setState({match:!0}),e.getMatches()):e.props.nextSwipe();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDetail=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.detail){t.next=4;break}e.setState({detail:null}),t.next=8;break;case 4:return t.next=6,m.a.get("/api/".concat(e.props.section,"/").concat(n.target.id,"/"));case 6:a=t.sent.data,e.setState({detail:a});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteMatches=Object(d.a)(l.a.mark((function t(){var n,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.connection,c=n.section,t.next=3,m.a.delete("/api/match/".concat(c,"/").concat(a.id,"/"),x());case 3:e.getMatches(),e.props.getResults();case 5:case"end":return t.stop()}}),t)}))),e.showSearch=function(){e.setState({search:!e.state.search})},e.clearMatch=function(){e.setState({match:null},(function(){e.props.nextSwipe()}))},e.changeView=function(){e.setState({view:!e.state.view})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getMatches();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.detail,n=e.matches,c=e.search,s=e.match,r=e.view,i=this.props,o=i.connection,l=i.results,d=i.getResults,j=i.section,u=i.swipeData,h=l[0];return r?h?Object(a.jsxs)("div",{className:"full flex",children:[Object(a.jsxs)("div",{className:"swipe-matches",children:[Object(a.jsx)("p",{children:"Matches"}),Object(a.jsx)(Ue,{matches:n,connection:o,section:j,changeView:this.changeView,deleteMatches:this.deleteMatches,getDetail:this.getDetail})]}),c?Object(a.jsx)(Le,{section:j,getResults:d}):null,Object(a.jsx)("div",{className:"swipeview",children:h?Object(a.jsxs)(a.Fragment,{children:[t?Object(a.jsx)(Ve,{r:t,section:j,getDetail:this.getDetail}):null,s?Object(a.jsx)(We,{r:h,section:j,connection:o,clear:this.clearMatch}):null,Object(a.jsx)(Xe,{r:h,swipe:this.swipe,section:j,showSearch:this.showSearch,getDetail:this.getDetail,deleteMatches:this.deleteMatches})]}):null})]}):Object(a.jsx)(fe,{type:"Bars"}):Object(a.jsx)(Ze,{section:j,results:l,changeView:this.changeView,swipeData:u})}}]),n}(s.a.Component),$e=Object(f.f)(Ke),et=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={results:[],mySwipes:[],page:1},e.getResults=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/movies/".concat(e.props.connection.id,"/"),n?{page:e.state.page,with_genres:n}:{page:e.state.page},x());case 2:a=t.sent,e.setState({page:e.state.page+1});case 4:if(a.data.length<=0){t.next=0;break}case 5:e.setState({results:a.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.nextSwipe=function(){e.state.results.length<=1?e.setState({p:e.state.p+1},(function(){e.getResults()})):e.setState({results:e.state.results.slice(1)})},e.swipeData=function(t){return{f_id:e.state.results[0].id,name:e.state.results[0].title,connection:e.props.connection.id,direction:t}},e.changeView=function(){e.setState({MatchView:!e.state.MatchView})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getResults();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.results;return e?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)($e,{section:"movies",results:e,swipeData:this.swipeData,connection:this.props.connection,nextSwipe:this.nextSwipe,getResults:this.getResults})}):null}}]),n}(s.a.Component),tt=function(e){var t=e.connection;return Object(a.jsxs)("div",{className:"full scroll center",children:[Object(a.jsx)("div",{children:Object(a.jsx)("h1",{className:"a-item",children:"Activities"})}),Object(a.jsx)("div",{className:"a-list",children:z.map((function(e){return Object(a.jsx)(O.b,{to:"/connection/".concat(t.id,"/activity/").concat(e),children:Object(a.jsx)("div",{id:e,className:"a-item",children:Object(a.jsx)("p",{className:"n-line",children:e.replace("_"," ")})})},e)}))})]})},nt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={results:[]},e.getResults=Object(d.a)(l.a.mark((function t(){var n,a,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.activity.toLowerCase().replace("_"," "),t.prev=1,t.next=4,X();case 4:c=t.sent,n={location:"".concat(c.coords.latitude,", ").concat(c.coords.longitude),rankby:"distance",keyword:a},t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n={location:"51.509865, -0.118092",rankby:"distance",keyword:a};case 11:return t.next=13,m.a.post("/api/activities/".concat(e.props.connection.id,"/"),n,x());case 13:(s=t.sent).data.length<=0&&(s=[Fe]),e.setState({results:s.data});case 16:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.swipeData=function(t,n){return{f_id:e.state.results[n].place_id,name:e.state.results[n].name,direction:t,connection:e.props.connection.id}},e.nextSwipe=function(){e.state.results.length<1?e.setState({f:Fe}):e.setState({results:e.state.results.slice(1)})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getResults();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.results;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)($e,{section:"activities",results:e,swipeData:this.swipeData,connection:this.props.connection,nextSwipe:this.nextSwipe,getResults:this.getResults})})}}]),n}(s.a.Component),at=Object(f.f)(nt),ct=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={results:[]},e.getResults=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X();case 3:c=t.sent,a=n||{location:"".concat(c.coords.latitude,", ").concat(c.coords.longitude),rankby:"distance",keyword:"food"},t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a={location:"51.509865, -0.118092",rankby:"distance",keyword:"food"};case 10:return t.next=12,m.a.post("/api/food/".concat(e.props.connection.id,"/"),a,x());case 12:(s=t.sent.data).length<=1&&s.push(Fe),e.setState({results:s});case 15:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.swipeData=function(t,n){return{f_id:e.state.results[n].place_id,name:e.state.results[n].name,direction:t,connection:e.props.connection.id}},e.nextSwipe=function(){e.state.results.length<1?e.setState({f:Fe}):e.setState({results:e.state.results.slice(1)})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getResults();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.connection,t=this.state.results;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)($e,{section:"food",connection:e,swipeData:this.swipeData,results:t,getResults:this.getResults,nextSwipe:this.nextSwipe})})}}]),n}(s.a.Component),st=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={matches:"",detail:"",filter:!1},e.getDetail=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.detail){t.next=4;break}e.setState({detail:null}),t.next=9;break;case 4:return a=n.currentTarget.id,t.next=7,m.a.get("/api/".concat(e.props.match.params.section,"/").concat(a,"/"));case 7:c=t.sent.data,e.setState({detail:c,m:a});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getMatches=Object(d.a)(l.a.mark((function t(){var n,a,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.connection,c=n.match,t.next=3,m.a.get("/api/match/".concat(c.params.section,"/").concat(a.id,"/").concat(a.partner.id,"/all/"),x());case 3:s=t.sent,e.setState({matches:s.data});case 5:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getMatches();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.connection,n=this.state,c=n.matches,s=n.detail,r=this.props.match.params.section;return c?Object(a.jsx)(a.Fragment,{children:s?Object(a.jsx)("div",{className:"swipeview",children:Object(a.jsx)(Ve,{r:s,section:r,connection:t,getMatches:this.getMatches,getDetail:this.getDetail})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h1",{className:"r-title",children:[t.partner.first_name," and ",t.user.first_name,"'s ",r," matches"]}),Object(a.jsx)("div",{className:"r-cont",children:c.map((function(t){return Object(a.jsxs)("div",{id:t.id,onClick:e.getDetail,className:"r-item ".concat("movies"===r?null:"rg-item"),children:[Object(a.jsx)("img",{className:"match-img",src:t.image}),Object(a.jsx)("h1",{children:t.name.slice(0,28)})]},t.id)}))})]})}):Object(a.jsx)(fe,{type:"Circles"})}}]),n}(s.a.Component),rt=Object(f.f)(st),it=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={activity:"",movie:"",food:"",payer:"",loader:!1,event:!1},e.connection=e.props.connection,e.getFood=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/food/random/",n,x());case 2:a=t.sent,e.setState({food:a.data,loader:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getActivity=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=z[Math.floor(41*Math.random())+1],t.t0=e.connection.partner.id,t.t1=e.connection.id,t.t2=n,t.next=6,e.getLocation();case 6:return t.t3=t.sent,t.t4=a,c={partner:t.t0,connection:t.t1,random:t.t2,location:t.t3,rankby:"distance",keyword:t.t4},t.next=11,m.a.post("/api/activities/random/",c,x());case 11:s=t.sent.data,e.setState({activity:s},(function(){e.getFood({random:n,partner:e.connection.partner.id,connection:e.connection.id,location:"".concat(s.geometry.location.lat,", ").concat(s.geometry.location.lng),rankby:"distance",keyword:["restaurant","food"]})}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getMovie=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={random:n,partner:e.connection.partner.id,connection:e.connection.id},t.next=3,m.a.post("/api/movies/random/",a,x());case 3:return c=t.sent,e.setState({movie:c.data}),t.t0=e,t.t1=n,t.t2=e.connection.partner.id,t.t3=e.connection.id,t.next=11,e.getLocation();case 11:t.t4=t.sent,t.t5=["meal_takeaway","meal_delivery"],t.t6={random:t.t1,partner:t.t2,connection:t.t3,location:t.t4,rankby:"distance",keyword:t.t5},t.t0.getFood.call(t.t0,t.t6);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getLocation=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:return t=e.sent,e.abrupt("return","".concat(t.coords.latitude,", ").concat(t.coords.longitude));case 4:case"end":return e.stop()}}),e)}))),e.getRandom=function(t){1===Math.floor(2*Math.random())?e.getMovie(t):e.getActivity(t),e.setState({loader:!0,food:!1,payer:!1})},e.whoPays=function(){var t=1===Math.floor(2*Math.random())+1?e.connection.partner.first_name:e.connection.user.first_name;e.setState({payer:t})},e.handleEvent=function(){e.setState({event:!e.state.event})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.food,c=t.activity,s=t.movie,r=t.payer,i=t.loader,o=t.event,l=this.connection;return i?Object(a.jsx)(fe,{type:"Bars"}):o?Object(a.jsx)("div",{className:"swipeview",children:Object(a.jsx)("div",{className:"modal",onClick:this.handleEvent,children:Object(a.jsx)("div",{onClick:function(e){e.stopPropagation()},className:"m-pop",children:Object(a.jsx)(te,{connection:l,closeModal:this.handleEvent,data:{location:n.formatted_address,notes:" ".concat(n.name," & ").concat(s?s.title:c.name)}})})})}):Object(a.jsx)("div",{className:"full center scroll",children:n?Object(a.jsxs)("div",{className:"random-results",children:[Object(a.jsxs)("div",{className:"random",children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("img",{src:R,alt:"food",className:"random-icon"}),Object(a.jsx)("h2",{className:"r-title",children:"Date Meal"})]}),Object(a.jsx)("h2",{children:n.message||n.name}),Object(a.jsx)("a",{href:n.website,children:n.website}),Object(a.jsx)("p",{children:n.formatted_phone_number}),Object(a.jsx)("p",{children:n.formatted_address})]}),c?Object(a.jsxs)("div",{className:"random",children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("img",{src:F,alt:"activity",className:"random-icon"}),Object(a.jsx)("h2",{className:"r-title",children:"Date Activity"})]}),Object(a.jsx)("h2",{children:c.message||c.name}),Object(a.jsxs)("a",{href:c.website,children:[" ",c.website]}),Object(a.jsx)("p",{children:c.formatted_phone_number}),Object(a.jsx)("p",{children:c.formatted_address}),c.types?c.types.map((function(e){return Object(a.jsxs)("p",{children:[" \u2023 ",e.replace(/_/g," ")]},e)})):null]}):Object(a.jsxs)("div",{className:"random",children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)("img",{src:A,alt:"movies",className:"random-icon"}),Object(a.jsx)("h2",{className:"r-title",children:"Date Movie"})]}),Object(a.jsx)("h2",{children:s.message||s.title}),Object(a.jsx)("p",{children:s.release_date}),Object(a.jsx)("p",{children:s.overview})]}),r?Object(a.jsxs)("div",{className:"random",children:[" ",Object(a.jsxs)("h1",{children:["Payer: ",r," "]})]}):null,Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"button",onClick:this.whoPays,children:"Who pays?"}),Object(a.jsx)("button",{className:"button",onClick:this.handleEvent,children:"Create Event"}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"button",onClick:function(){e.getRandom(!0)},children:"New Random date"}),Object(a.jsx)("button",{className:"button",onClick:function(){e.getRandom(!1)},children:"New Match Date"})]})]}):Object(a.jsxs)("div",{className:i?"display-none":"column",children:[Object(a.jsxs)("button",{className:"random-button",onClick:function(){e.getRandom(!0)},children:[Object(a.jsx)("b",{children:" Generate a completely random date"})," "]}),Object(a.jsxs)("button",{className:"random-button",onClick:function(){e.getRandom(!1)},children:[" ",Object(a.jsx)("b",{children:" Generate a random date from your matches!"})]})]})})}}]),n}(s.a.Component),ot=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={data:{notes:"",color:"#ffa3f7cc"}},e.handleChange=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Object(N.a)(Object(N.a)({},e.state.data),{},Object(y.a)({},n.target.name,n.target.value)),e.setState({data:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.connection,n.preventDefault(),c=Object(N.a)(Object(N.a)({},e.state.data),{},{connection:a.id,reciever:a.partner.id}),t.next=5,m.a.post("/api/notes/",c,x());case 5:e.props.sendNote();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.data,t=this.props,n=t.connection,c=t.sendNote;return Object(a.jsx)("div",{className:"modal",onClick:c,children:Object(a.jsx)("div",{className:"m-pop",id:"n-pop",style:{backgroundColor:e.color},onClick:function(e){return e.stopPropagation()},children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("div",{className:"auth-head",children:"New Love Note"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"To:"}),Object(a.jsx)("input",{readOnly:!0,value:n.partner.first_name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"From:"}),Object(a.jsx)("input",{readOnly:!0,value:n.user.first_name})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Note:"}),Object(a.jsx)("textarea",{name:"notes",value:e.notes,onChange:this.handleChange})]}),Object(a.jsx)("div",{children:Object(a.jsx)("input",{name:"color",value:e.color,type:"color",onChange:this.handleChange})}),Object(a.jsx)("button",{className:"auth-button",children:" Send!"})]})})})}}]),n}(s.a.Component),lt=function(e){var t=e.note,n=e.enlarge;return Object(a.jsx)("div",{className:"modal",onClick:function(){n(null)},children:Object(a.jsxs)("div",{className:"m-pop",id:"n-pop",style:{backgroundColor:t.color},children:[Object(a.jsxs)("h1",{children:[" ",t.notes]}),Object(a.jsxs)("p",{children:[" ",t.created_at]})]})})},dt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={notes:"",send:!1,enlarge:!1},e.getNotes=Object(d.a)(l.a.mark((function t(){var n,a,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.connection,c=n.match,t.next=3,m.a.get("/api/notes/".concat(a.id,"/").concat(c.params.box,"/"),x());case 3:s=t.sent,e.setState({notes:s.data});case 5:case"end":return t.stop()}}),t)}))),e.sendNote=function(){e.setState({send:!e.state.send})},e.deleteNote=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.delete("/api/notes/".concat(n,"/none/"));case 2:e.getNotes();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.readNote=function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.patch("/api/notes/".concat(n.currentTarget.id,"/none/"),null,x());case 2:e.getNotes();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.enlarge=function(t){e.setState({enlarge:t})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getNotes();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.box;e.match.params.box!==t&&this.getNotes()}},{key:"render",value:function(){var e=this,t=this.state,n=t.notes,c=t.send,s=t.enlarge,r=this.props,i=r.connection,o=r.match;return n?Object(a.jsxs)("div",{className:"swipeview center",children:[s?Object(a.jsx)(lt,{note:s,enlarge:this.enlarge}):null,c?Object(a.jsx)(ot,{connection:i,sendNote:this.sendNote}):null,"inbox"===o.params.box?Object(a.jsxs)("h1",{className:"r-title",children:[i.partner.first_name,"'s Love Notes to ",i.user.first_name]}):Object(a.jsxs)("h1",{className:"r-title",children:[" ",i.user.first_name,"'s Love Notes to ",i.partner.first_name," "]}),Object(a.jsx)("button",{className:"button",onClick:this.sendNote,children:"New Love Note"}),Object(a.jsx)("div",{className:"notes-cont",children:n.map((function(t){return Object(a.jsx)("div",{onClick:function(n){t.read?e.enlarge(t):e.readNote(n)},className:"n-cont",id:t.id,children:Object(a.jsx)(oe,{n:t,connection:i,deleteNote:e.deleteNote})},t.id)}))})]}):null}}]),n}(s.a.Component),jt=Object(f.f)(dt),ut=n(24),ht=function(e){var t=e.locations,n=e.selected,c=e.connection,s=e.listLocations,r=e.getDetail;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h2",{children:[c.partner.first_name," & ",c.user.first_name,"'s Date Locations"]}),0===t.length?Object(a.jsx)(fe,{type:"Hearts"}):t.message?Object(a.jsxs)("p",{children:[" ",t.message]}):Object(a.jsx)(a.Fragment,{children:t.map((function(e,t){return Object(a.jsxs)("div",{ref:function(e){return s[t]=e},onClick:function(){r(e,t)},className:"l-list-item ".concat(n===t?"l-select":null),children:[Object(a.jsxs)("div",{className:"center",children:[Object(a.jsx)("p",{className:"absolute",children:t+1}),n===t?Object(a.jsx)("img",{src:"https://bit.ly/3qavbJY",className:"l-list-icon",alt:"marker"}):Object(a.jsx)("img",{src:"https://bit.ly/3jxtH9Y",className:"l-list-icon",alt:"marker"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:e.address}),Object(a.jsxs)("p",{className:"italic",children:[" - ",e.title]})]}),Object(a.jsx)("img",{src:"https://bit.ly/2LEgyPX",className:"l-arrow",alt:"info"})]},t)}))})]})},pt=[{featureType:"all",elementType:"all",stylers:[{visibility:"on"},{hue:"#00ffe6"},{saturation:-20}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"administrative.country",elementType:"labels.text.stroke",stylers:[{color:"#000000"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"administrative.land_parcel",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"on"},{color:"#cee9de"},{saturation:"20"},{weight:"0.80"}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-10},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#f0bebe"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{hue:"#0e575c"},{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"road.highway.controlled_access",elementType:"labels.icon",stylers:[{visibility:"on"},{hue:"#0e575c"},{gamma:"1.44"},{lightness:"-3"},{weight:"1.69"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"simplified"},{weight:"0.31"},{gamma:"1.43"},{lightness:"-5"},{saturation:"-22"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"transit.line",elementType:"all",stylers:[{visibility:"on"},{hue:"#ff0000"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{visibility:"simplified"},{hue:"#ff0045"}]},{featureType:"transit.station.bus",elementType:"all",stylers:[{visibility:"on"},{hue:"#00d1ff"}]},{featureType:"transit.station.bus",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"transit.station.rail",elementType:"all",stylers:[{visibility:"simplified"},{hue:"#00cbff"}]},{featureType:"transit.station.rail",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"all",stylers:[{color:"#7dcdcd"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{weight:"1.61"},{color:"#8ecad2"},{visibility:"on"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]}],bt=function(e){var t=e.google,n=e.center,c=e.selected,s=e.setSelect,r=e.locations;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(ut.Map,{google:t,className:"map",zoom:11,initialCenter:{lat:51.509865,lng:-.118092},center:n,styles:pt,children:r.length>0?r.map((function(e,n){return Object(a.jsx)(ut.Marker,{label:"".concat(n+1),position:{lat:e.lat,lng:e.lng},onClick:function(){s(n)},icon:c===n?{url:"https://bit.ly/3qavbJY",scaledSize:new t.maps.Size(40,35)}:{url:"https://bit.ly/3jxtH9Y",scaledSize:new t.maps.Size(40,35)}},n)})):null})})},mt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={locations:[],center:"",selected:1,detail:!1},e.listLocations=[],e.setSelect=function(t){e.setState({selected:t,center:e.state.locations[t]}),e.list.scrollTop=e.listLocations[t].offsetTop-200},e.getDetail=function(){var t=Object(d.a)(l.a.mark((function t(n,a){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.detail){t.next=4;break}e.setState({detail:null}),t.next=8;break;case 4:return t.next=6,m.a.get("/api/food/".concat(n.id,"/"));case 6:c=t.sent.data,e.setState({detail:c,selected:a,center:e.state.locations[a]});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/locations/".concat(this.props.connection.id,"/"));case 2:t=e.sent,console.log(t.data),this.setState({locations:t.data,center:t.data[0]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.connection,c=t.google,s=this.state,r=s.locations,i=s.center,o=s.selected,l=s.detail;return Object(a.jsxs)("div",{className:"flex",children:[l?Object(a.jsx)("div",{className:"swipeview",children:Object(a.jsx)(Ve,{r:l,getDetail:this.getDetail})}):null,Object(a.jsx)("div",{className:"l-list",ref:function(t){return e.list=t},children:Object(a.jsx)(ht,{connection:n,locations:r,selected:o,getDetail:this.getDetail,listLocations:this.listLocations})}),Object(a.jsx)(bt,{google:c,center:i,setSelect:this.setSelect,selected:o,locations:r})]})}}]),n}(s.a.Component),Ot=Object(ut.GoogleApiWrapper)({apiKey:"AIzaSyAn3WW4SI3RHmQ7I_6HFcrUTdNalXkoJ4A"})(mt),ft=g(),xt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={modal:!0,connection:null,user:{}},e.getConnection=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/api/connection-full/".concat(e.props.match.params.id,"/"));case 2:(n=t.sent).data.user=n.data.participants.find((function(e){return e.id===ft})),n.data.partner=n.data.participants.find((function(e){return e.id!==ft})),delete n.data.participants,e.setState({connection:n.data});case 7:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getConnection();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.connection,t=this.props.user;return e?Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(V,{connection:e,user:t}),Object(a.jsx)("div",{className:"main",children:Object(a.jsxs)(f.c,{children:[Object(a.jsx)(f.a,{path:"/connection/:id/overview",render:function(){return Object(a.jsx)(Se,{connection:e})}}),Object(a.jsx)(f.a,{path:"/connection/:id/:section/results",render:function(){return Object(a.jsx)(rt,{connection:e})}}),Object(a.jsx)(f.a,{path:"/connection/:id/food/",render:function(){return Object(a.jsx)(ct,{connection:e})}}),Object(a.jsx)(f.a,{path:"/connection/:id/movies",render:function(){return Object(a.jsx)(et,{connection:e})}}),Object(a.jsx)(f.a,{path:"/connection/:id/activities",render:function(){return Object(a.jsx)(tt,{connection:e})}}),Object(a.jsx)(f.a,{path:"/connection/:id/activity/:activity",render:function(){return Object(a.jsx)(at,{connection:e})}}),Object(a.jsx)(f.a,{path:"/connection/:id/randomiser",render:function(){return Object(a.jsx)(it,{connection:e})}}),Object(a.jsx)(f.a,{path:"/connection/:id/notes/:box",render:function(){return Object(a.jsx)(jt,{connection:e})}}),Object(a.jsx)(f.a,{path:"/connection/:id/events",render:function(){return Object(a.jsx)(re,{user:e.user,connection:e})}}),Object(a.jsx)(f.a,{path:"/connection/:id/wishlist",render:function(){return Object(a.jsx)(ve,{user:e.partner})}}),Object(a.jsx)(f.a,{path:"/connection/:id/locations",render:function(){return Object(a.jsx)(Ot,{connection:e})}})]})})]}):null}}]),n}(s.a.Component),vt=Object(f.f)(xt),gt=g(),yt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={user:null,connections:null},e.getUser=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/api/profile/".concat(gt,"/"));case 2:n=t.sent,e.setState({user:n.data});case 4:case"end":return t.stop()}}),t)}))),e.getCons=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/api/connections/".concat(gt,"/"));case 2:(n=t.sent).data.map((function(e){return e.participants=e.participants.find((function(e){return e.id!==gt}))})),e.setState({connections:n.data});case 5:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getUser(),this.getCons();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.user,c=t.connections;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(O.a,{children:Object(a.jsxs)(f.c,{children:[Object(a.jsx)(f.a,{path:"/login",component:C}),Object(a.jsx)(f.a,{path:"/home",render:function(){return Object(a.jsx)(Ce,{connections:c,user:n,getCons:e.getCons,getUser:e.getUser})}}),Object(a.jsx)(f.a,{path:"/connection/:id",render:function(){return Object(a.jsx)(vt,{user:n})}})]})})})}}]),n}(s.a.Component);i.a.render(Object(a.jsx)(yt,{}),document.getElementById("root"))},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.a9f81571.chunk.js.map